{% extends "properties/base.html" %}

{% block title %}
Property Detail - {{ property.title }}
{% endblock %}

{% block body %}
<div class="container py-5">
    <div class="row">
        <div class="col-md-6">
            <!-- Main Image -->
            <img id="mainImage" class="img-fluid rounded shadow-sm mb-4" src="{{ property.image.url }}" alt="{{ property.title }}">
        </div>
        <div class="col-md-6">
            <h2 class="mb-4" style="font-weight: 300; text-transform: uppercase; letter-spacing: 1px;">{{ property.title }}</h2>
        
            <!-- Property Details Block -->
            <div class="property-details p-4 mb-4 rounded border">
                <!-- Location -->
                <div class="detail-row">
                    <div class="label"><strong>Location:</strong></div>
                    <div class="value">{{ property.location }}</div>
                </div>
                
                <!-- Size -->
                <div class="detail-row">
                    <div class="label"><strong>Size:</strong></div>
                    <div class="value">{{ property.size_sqft }} Sqft</div>
                </div>
                
                <!-- Bedrooms -->
                <div class="detail-row">
                    <div class="label"><strong>Bedrooms:</strong></div>
                    <div class="value">{{ property.bedrooms }}</div>
                </div>
                
                <!-- Bathrooms -->
                <div class="detail-row">
                    <div class="label"><strong>Bathrooms:</strong></div>
                    <div class="value">{{ property.bathrooms }}</div>
                </div>
                
                <!-- Balcony -->
                <div class="detail-row">
                    <div class="label"><strong>Balcony:</strong></div>
                    <div class="value">{{ property.belcony }}</div>
                </div>
                
                <!-- Drawing Room -->
                <div class="detail-row">
                    <div class="label"><strong>Drawing Room:</strong></div>
                    <div class="value">{{ property.drawingroom }}</div>
                </div>
                
                <!-- Dining Room -->
                <div class="detail-row">
                    <div class="label"><strong>Dining Room:</strong></div>
                    <div class="value">{{ property.dyningroom }}</div>
                </div>
                
                <!-- Kitchen -->
                <div class="detail-row">
                    <div class="label"><strong>Kitchen:</strong></div>
                    <div class="value">{{ property.kitchen }}</div>
                </div>
                
                <!-- Share Button -->
                <div class="mb-3">
                    <p>Share this property:</p>
                    <div class="social-share-buttons">
                        <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri }}" target="_blank" class="btn btn-social btn-facebook">
                            <i class="fa fa-facebook"></i> Facebook
                        </a>
                        <a href="https://twitter.com/intent/tweet?url={{ request.build_absolute_uri }}&text=Check%20out%20this%20property!" target="_blank" class="btn btn-social btn-twitter">
                            <i class="fa fa-twitter"></i> Twitter
                        </a>
                        <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ request.build_absolute_uri }}" target="_blank" class="btn btn-social btn-linkedin">
                            <i class="fa fa-linkedin"></i> LinkedIn
                        </a>
                        <a href="https://www.instagram.com/?url={{ request.build_absolute_uri }}" target="_blank" class="btn btn-social btn-instagram">
                            <i class="fa fa-instagram"></i> Instagram
                        </a>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Additional Images Section -->
    <div class="additional-images mt-4">
        <h5>Additional Images</h5>
        <div class="row">
            {% for image in additional_images %}
                <div class="col-4 col-md-2 mb-3">
                    <img 
                        class="img-fluid rounded shadow-sm" 
                        src="{{ image.image.url }}" 
                        alt="Additional Image"
                        onclick="document.getElementById('mainImage').src='{{ image.image.url }}'">
                </div>
            {% empty %}
                <p>No additional images available.</p>
            {% endfor %}
        </div>
    </div>
</div>

<script>
    // This script listens for clicks on the additional images and updates the main image
    document.querySelectorAll('.additional-images img').forEach(img => {
        img.addEventListener('click', function() {
            document.getElementById('mainImage').src = this.src;
        });
    });
</script>

<style>
    .property-details {
        background-color: #ffffff;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 20px;
    }
    
    .detail-row {
        display: flex;
        margin-bottom: 15px;
    }
    
    .label {
        color: #333;
        font-weight: 600;
        width: 150px;
        flex-shrink: 0;
        text-align: left;
        padding-right: 10px;
        font-size: 20px;
    }
    
    .value {
        color: #666;
        font-weight: 400;
        font-size: 20px;
    }
    
    .property-details hr {
        margin: 20px 0;
        border: 0;
        border-top: 1px solid #e0e0e0;
    }
    
    .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
    }

    .social-share-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
    }
    
    .btn-social {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 8px 16px;
        border-radius: 5px;
        color: #fff;
        text-decoration: none;
        font-size: 14px;
        font-weight: 500;
        flex-grow: 1;
        max-width: 100%;
        text-align: center;
    }
    
    .btn-facebook {
        background-color: #3b5998;
    }
    
    .btn-twitter {
        background-color: #1da1f2;
    }
    
    .btn-linkedin {
        background-color: #0077b5;
    }
    
    .btn-instagram {
        background-color: #E4405F;
    }
    
    .btn-social i {
        margin-right: 8px;
        font-size: 16px;
    }
    
    .btn-facebook:hover {
        background-color: #2d4373;
    }
    
    .btn-twitter:hover {
        background-color: #1a91da;
    }
    
    .btn-linkedin:hover {
        background-color: #005582;
    }
    
    .btn-instagram:hover {
        background-color: #d6249f;
    }
    
    .btn-instagram i {
        color: #fff;
    }
    
    @media (max-width: 576px) {
        .btn-social {
            padding: 6px 12px;
            font-size: 12px;
        }
    
        .btn-social i {
            margin-right: 5px;
            font-size: 14px;
        }
    }
</style>

{% endblock %}
